; generated by ARM C/C++ Compiler, 4.1 [Build 894]
; commandline ArmCC [--debug -c --asm -o..\Output\main.o --depend=..\Output\main.d --cpu=Cortex-M3 --apcs=interwork -O0 -I.\src -I.\inc -I..\CMSIS -I"E:\Keil 4 ARM\ARM\RV31\Inc" -I"E:\Keil 4 ARM\ARM\CMSIS\Include" -I"E:\Keil 4 ARM\ARM\Inc\ST\STM32F10x" -DSTM32F10X_CL --omf_browse=..\Output\main.crf src\main.c]
        THUMB
        REQUIRE8
        PRESERVE8

        AREA ||.text||, CODE, READONLY, ALIGN=2

main PROC
        PUSH     {r3,lr}
        BL       ADSample_Init
        BL       UART_Init
        BL       LED_IOinit
        BL       Relay_IOinit
        BL       Coupler_IOinit
        BL       Timer1_Init
        BL       Watchdog_Init
        BL       Flash_Init
        MOVS     r0,#2
        MOVS     r3,#0x4e
        LDR      r2,|L1.236|
        LDR      r1,|L1.240|
        STR      r0,[sp,#0]
        LDR      r0,|L1.244|
        BL       Cal_Init
        CPSIE    i
        B        |L1.232|
|L1.54|
        MOV      r0,#0xaaaa
        LDR      r1,|L1.248|
        STR      r0,[r1,#0]
        LDR      r0,|L1.252|
        LDRB     r0,[r0,#0]  ; Systimememb
        TST      r0,#1
        BNE      |L1.154|
        LDR      r0,|L1.240|
        SUBS     r0,r0,#0x10
        LDRB     r0,[r0,#1]  ; Samp_ADdata_Stream
        LDR      r1,|L1.256|
        ADD      r0,r1,r0,LSL #4
        LDR      r1,|L1.240|
        SUBS     r1,r1,#0x10
        LDR      r2,[r0,#0xc]
        LDR      r0,|L1.260|
        BLX      r2
        LDR      r0,|L1.240|
        SUBS     r0,r0,#0x10
        LDRH     r0,[r0,#0x12]  ; Samp_ADdata_Stream
        CBZ      r0,|L1.136|
        LDR      r0,|L1.240|
        SUBS     r0,r0,#0x10
        BL       Cal_ADscream_Change
        CBNZ     r0,|L1.136|
        LDR      r1,|L1.240|
        SUBS     r1,r1,#0x10
        LDRB     r1,[r1,#1]  ; Samp_ADdata_Stream
        LDR      r2,|L1.256|
        ADD      r1,r2,r1,LSL #4
        LDRB     r0,[r1,#0xa]
        LDR      r1,|L1.240|
        SUBS     r1,r1,#0x10
        BL       Cal_ADdata_Copy
        B        |L1.146|
|L1.136|
        LDR      r1,|L1.240|
        SUBS     r1,r1,#0x10
        LDR      r0,|L1.260|
        BL       ADSample_Scream_Col
|L1.146|
        LDR      r0,|L1.240|
        SUBS     r0,r0,#0x10
        BL       ADSample_Change
|L1.154|
        LDR      r0,|L1.260|
        BL       Coupler_Updata
        LDR      r1,|L1.240|
        SUBS     r1,r1,#0x10
        LDR      r0,|L1.260|
        BL       Relay_Control
        LDR      r0,|L1.264|
        LDRB     r0,[r0,#0]  ; U1_RXfin
        AND      r0,r0,#3
        CMP      r0,#3
        BNE      |L1.210|
        LDR      r0,|L1.268|
        LDRB     r0,[r0,#0]  ; U1_TXfin
        TST      r0,#1
        BNE      |L1.210|
        LDR      r0,|L1.244|
        LDR      r3,|L1.256|
        LDR      r2,|L1.240|
        SUBS     r2,r2,#0x10
        LDR      r1,|L1.272|
        STR      r0,[sp,#0]
        LDR      r0,|L1.276|
        BL       DATA_RecProc
|L1.210|
        LDR      r0,|L1.268|
        LDRB     r0,[r0,#0]  ; U1_TXfin
        AND      r0,r0,#0xd
        CMP      r0,#9
        BNE      |L1.232|
        LDR      r2,|L1.260|
        LDR      r1,|L1.272|
        LDR      r0,|L1.276|
        BL       DATA_TraProc
|L1.232|
        B        |L1.54|
        ENDP

        DCW      0x0000
|L1.236|
        DCD      0x0801f800
|L1.240|
        DCD      Samp_ADdata_Stream+0x10
|L1.244|
        DCD      DATA_SAMPLE_ADPOINT
|L1.248|
        DCD      0x40003000
|L1.252|
        DCD      Systimememb
|L1.256|
        DCD      Samp_DataArr
|L1.260|
        DCD      Samp_DataStat
|L1.264|
        DCD      U1_RXfin
|L1.268|
        DCD      U1_TXfin
|L1.272|
        DCD      U1_RxTxLen
|L1.276|
        DCD      U1_FIFOBuff

        AREA ||.arm_vfe_header||, DATA, READONLY, NOALLOC, ALIGN=2

        DCD      0x00000000

__ARM_use_no_argv EQU 0

        EXPORT __ARM_use_no_argv
        EXPORT main [CODE]

        IMPORT ||Lib$$Request$$armlib|| [CODE,WEAK]
        IMPORT ADSample_Init [CODE]
        IMPORT UART_Init [CODE]
        IMPORT LED_IOinit [CODE]
        IMPORT Relay_IOinit [CODE]
        IMPORT Coupler_IOinit [CODE]
        IMPORT Timer1_Init [CODE]
        IMPORT Watchdog_Init [CODE]
        IMPORT Flash_Init [CODE]
        IMPORT Cal_Init [CODE]
        IMPORT Cal_ADscream_Change [CODE]
        IMPORT Cal_ADdata_Copy [CODE]
        IMPORT ADSample_Scream_Col [CODE]
        IMPORT ADSample_Change [CODE]
        IMPORT Coupler_Updata [CODE]
        IMPORT Relay_Control [CODE]
        IMPORT DATA_RecProc [CODE]
        IMPORT DATA_TraProc [CODE]
        IMPORT Samp_ADdata_Stream [DATA]
        IMPORT DATA_SAMPLE_ADPOINT [DATA]
        IMPORT Systimememb [DATA]
        IMPORT Samp_DataArr [DATA]
        IMPORT Samp_DataStat [DATA]
        IMPORT U1_RXfin [DATA]
        IMPORT U1_TXfin [DATA]
        IMPORT U1_RxTxLen [DATA]
        IMPORT U1_FIFOBuff [DATA]

        ATTR FILESCOPE
        ATTR SETVALUE Tag_ABI_PCS_wchar_t,2
        ATTR SETVALUE Tag_ABI_enum_size,1
        ATTR SETVALUE Tag_ABI_optimization_goals,6
        ATTR SETSTRING Tag_conformance,"2.06"
        ATTR SETVALUE AV,18,1

        ASSERT {ENDIAN} = "little"
        ASSERT {INTER} = {TRUE}
        ASSERT {ROPI} = {FALSE}
        ASSERT {RWPI} = {FALSE}
        ASSERT {IEEE_FULL} = {FALSE}
        ASSERT {IEEE_PART} = {FALSE}
        ASSERT {IEEE_JAVA} = {FALSE}
        END
